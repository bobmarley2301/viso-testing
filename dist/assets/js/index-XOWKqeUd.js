import{b as e,d as r,e as s,u as t,f as a,j as i,B as n,L as l,g as o,I as c,V as d,H as h,h as p,T as u,i as g,k as m,l as x,r as j,m as f,C as b,n as y,o as v,p as w,q as R,G as C,S as M,s as I,t as A,v as S,w as $,D as _,x as z,F as W,O as P,Q as L,y as q,z as k,A as B,E as D,J as E,K as F}from"./vendor-BM54JFyD.js";import{S as O,C as T,b as K,c as Y}from"./ui-CtgR6r9v.js";var N;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();var H=e;N=H.createRoot,H.hydrateRoot;const X="https://www.themealdb.com/api/json/v1/1",G={searchRecipes:async e=>(await r.get(`${X}/search.php?s=${e}`)).data,getRecipeById:async e=>(await r.get(`${X}/lookup.php?i=${e}`)).data,getRecipesByCategory:async e=>(await r.get(`${X}/filter.php?c=${e}`)).data,getAllCategories:async()=>(await r.get(`${X}/categories.php`)).data,getRandomMeal:async()=>(await r.get(`${X}/random.php`)).data,getRecipesByArea:async e=>(await r.get(`${X}/filter.php?a=${e}`)).data,getRecipesByIngredient:async e=>(await r.get(`${X}/filter.php?i=${e}`)).data,getAllAreas:async()=>(await r.get(`${X}/list.php?a=list`)).data,getAllIngredients:async()=>(await r.get(`${X}/list.php?i=list`)).data,getSmallImageUrl:e=>e.replace("/images/media/meals/","/images/media/meals/preview/")},J=s()(((e,r)=>({selectedRecipes:[],addRecipe:r=>e((e=>({selectedRecipes:[...e.selectedRecipes,r]}))),removeRecipe:r=>e((e=>({selectedRecipes:e.selectedRecipes.filter((e=>e.idMeal!==r.idMeal))}))),getIngredients:()=>{const{selectedRecipes:e}=r(),s=new Map;return e.forEach((e=>{Object.entries(e).filter((([e,r])=>e.startsWith("strIngredient")&&r)).forEach((([r,t])=>{const a=`strMeasure${r.slice(13)}`,i=e[a];s.set(t,i)}))})),Array.from(s.entries()).map((([e,r])=>({name:e,measure:r})))}}))),Q=({recipe:e,onSelect:r})=>{const{addRecipe:s,selectedRecipes:j,removeRecipe:f}=J(),b=t(),y=a("white","gray.800"),v=a("gray.200","gray.700"),w=a("gray.600","gray.400"),R=j.some((r=>r.idMeal===e.idMeal)),C=`/recipe/${e.idMeal}`;return i.jsxs(n,{bg:y,borderWidth:"1px",borderColor:v,borderRadius:"lg",overflow:"hidden",transition:"all 0.3s",_hover:{transform:"translateY(-4px)",shadow:"lg"},position:"relative",children:[i.jsx(l,{as:o,to:C,fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer",textDecoration:"none",color:a("gray.800","white"),_hover:{color:"blue.500"},children:i.jsx(n,{position:"relative",paddingTop:"75%",children:i.jsx(c,{src:e.strMealThumb,alt:e.strMeal,position:"absolute",top:"0",left:"0",width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",transition:"transform 0.3s",_hover:{transform:"scale(1.05)"}})})}),i.jsxs(d,{p:4,align:"start",spacing:3,children:[i.jsx(l,{as:o,to:C,fontSize:"1.25rem",fontWeight:"bold",cursor:"pointer",textDecoration:"none",color:a("gray.800","white"),_hover:{color:"blue.500"},children:e.strMeal}),i.jsxs(h,{spacing:2,flexWrap:"wrap",children:[i.jsx(p,{colorScheme:"blue",borderRadius:"full",px:3,py:1,children:e.strCategory}),i.jsx(p,{colorScheme:"green",borderRadius:"full",px:3,py:1,children:e.strArea})]}),i.jsx(u,{color:w,fontSize:"sm",noOfLines:2,children:e.strInstructions}),i.jsx(g,{label:R?"Видалити з вибраних":"Додати до вибраних",placement:"top",children:i.jsx(m,{colorScheme:R?"red":"blue",onClick:()=>{r?r(e):R?(f(e),b({title:"Рецепт видалено",description:`${e.strMeal} видалено з вибраних рецептів`,status:"info",duration:3e3,isClosable:!0})):(s(e),b({title:"Рецепт додано",description:`${e.strMeal} додано до вибраних рецептів`,status:"success",duration:3e3,isClosable:!0}))},width:"100%",leftIcon:i.jsx(x,{as:O}),variant:R?"solid":"outline",transition:"all 0.2s",_hover:{transform:"translateY(-1px)",shadow:"md"},children:R?"Вибрано":"Вибрати"})})]})]})};const U=({currentPage:e,totalPages:r,onPageChange:s})=>{const t=a("white","gray.800"),l=a("gray.200","gray.700"),o=a("blue.500","blue.300"),c=a("gray.600","gray.400");return i.jsxs(h,{spacing:2,justify:"center",mt:8,mb:4,children:[i.jsx(m,{onClick:()=>s(e-1),isDisabled:1===e,leftIcon:i.jsx(T,{}),variant:"outline",colorScheme:"blue",size:"sm",transition:"all 0.2s",_hover:{transform:"translateX(-2px)",shadow:"sm"},_disabled:{opacity:.5,cursor:"not-allowed"},children:"Попередня"}),(()=>{const s=[];if(r<=7)for(let e=1;e<=r;e++)s.push(e);else if(e<=4){for(let e=1;e<=7;e++)s.push(e);s.push("...",r)}else if(e>=r-3){s.push(1,"...");for(let e=r-6;e<=r;e++)s.push(e)}else{s.push(1,"...");for(let r=e-2;r<=e+2;r++)s.push(r);s.push("...",r)}return s})().map(((r,a)=>i.jsx(n,{children:"..."===r?i.jsx(n,{px:3,py:1,color:c,fontWeight:"medium",children:"..."}):i.jsx(m,{onClick:()=>s(r),variant:e===r?"solid":"outline",colorScheme:e===r?"blue":"gray",size:"sm",minW:"40px",h:"40px",p:0,transition:"all 0.2s",_hover:{transform:"translateY(-2px)",shadow:"sm"},_active:{transform:"translateY(0)"},bg:e===r?o:t,color:e===r?"white":c,borderColor:e===r?o:l,children:r})},a))),i.jsx(m,{onClick:()=>s(e+1),isDisabled:e===r,rightIcon:i.jsx(K,{}),variant:"outline",colorScheme:"blue",size:"sm",transition:"all 0.2s",_hover:{transform:"translateX(2px)",shadow:"sm"},_disabled:{opacity:.5,cursor:"not-allowed"},children:"Наступна"})]})},V=new L,Z=q({component:()=>{const e=z(),r=a("blue.500","blue.600"),s=a("white","white"),t=a("whiteAlpha.800","whiteAlpha.800");return i.jsxs(n,{minH:"100vh",bg:a("gray.50","gray.900"),children:[i.jsxs(W,{as:"nav",align:"center",justify:"space-between",wrap:"wrap",padding:"1rem 2rem",bg:r,color:"white",boxShadow:"sm",children:[i.jsx(W,{align:"center",mr:5,children:i.jsx(l,{as:o,to:"/",fontSize:"1.5rem",fontWeight:"bold",color:"white",textDecoration:"none",transition:"opacity 0.2s",_hover:{opacity:.8},children:"Рецепти"})}),i.jsxs(W,{gap:4,children:[i.jsx(l,{as:o,to:"/",color:"/"===e.state.location.pathname?s:t,textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"md",transition:"all 0.2s",_hover:{bg:"whiteAlpha.200"},children:"Всі рецепти"}),i.jsx(l,{as:o,to:"/selected",color:"/selected"===e.state.location.pathname?s:t,textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"md",transition:"all 0.2s",_hover:{bg:"whiteAlpha.200"},children:"Вибрані рецепти"})]})]}),i.jsx(n,{as:"main",py:8,children:i.jsx(P,{})})]})}}),ee=k({getParentRoute:()=>Z,path:"/",component:()=>{var e,r;const[s,t]=j.useState(""),[l,o]=j.useState(""),[c,h]=j.useState(""),[p,g]=j.useState(1),m=function(e,r){const[s,t]=j.useState(e);return j.useEffect((()=>{const s=setTimeout((()=>{t(e)}),r);return()=>{clearTimeout(s)}}),[e,r]),s}(s,500),x=a("white","gray.800"),A=a("gray.200","gray.700"),{data:S,isLoading:$}=f({queryKey:["areas"],queryFn:G.getAllAreas}),{data:_,isLoading:z}=f({queryKey:["ingredients"],queryFn:G.getAllIngredients}),{data:W,isLoading:P}=f({queryKey:["recipes",m,l,c],queryFn:async()=>{if(m)return G.searchRecipes(m);if(l)return G.getRecipesByArea(l);if(c)return G.getRecipesByIngredient(c);return{meals:(await Promise.all(Array(14).fill(null).map((()=>G.getRandomMeal())))).flatMap((e=>e.meals||[]))}}}),L=j.useMemo((()=>(null==W?void 0:W.meals)||[]),[W]),q=Math.ceil(L.length/12),k=j.useMemo((()=>L.slice(12*(p-1),12*p)),[L,p]);return i.jsx(b,{maxW:"container.xl",py:8,children:i.jsxs(d,{spacing:8,align:"stretch",children:[i.jsx(y,{textAlign:"center",size:"xl",mb:8,children:"Рецепти"}),i.jsx(n,{width:"100%",children:i.jsxs(v,{size:"lg",children:[i.jsx(w,{pointerEvents:"none",children:i.jsx(Y,{color:"gray.400"})}),i.jsx(R,{placeholder:"Пошук рецептів...",value:s,onChange:e=>{t(e.target.value),o(""),h(""),g(1)},bg:x,borderColor:A,_hover:{borderColor:"blue.500"},_focus:{borderColor:"blue.500"}})]})}),i.jsxs(C,{templateColumns:"repeat(2, 1fr)",gap:4,width:"100%",children:[i.jsx(M,{isLoaded:!$,children:i.jsx(I,{placeholder:"Виберіть кухню",value:l,onChange:e=>{o(e.target.value),t(""),h(""),g(1)},bg:x,borderColor:A,_hover:{borderColor:"blue.500"},_focus:{borderColor:"blue.500"},children:null==(e=null==S?void 0:S.meals)?void 0:e.map((e=>i.jsx("option",{value:e.strArea,children:e.strArea},e.strArea)))})}),i.jsx(M,{isLoaded:!z,children:i.jsx(I,{placeholder:"Виберіть інгредієнт",value:c,onChange:e=>{h(e.target.value),t(""),o(""),g(1)},bg:x,borderColor:A,_hover:{borderColor:"blue.500"},_focus:{borderColor:"blue.500"},children:null==(r=null==_?void 0:_.meals)?void 0:r.map((e=>i.jsx("option",{value:e.strIngredient,children:e.strIngredient},e.strIngredient)))})})]}),P?i.jsx(C,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:6,width:"100%",children:Array(6).fill(null).map(((e,r)=>i.jsx(M,{height:"300px",borderRadius:"lg"},r)))}):0===L.length?i.jsx(u,{textAlign:"center",fontSize:"lg",color:"gray.500",children:"Рецептів не знайдено"}):i.jsx(C,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:6,width:"100%",children:k.map((e=>i.jsx(Q,{recipe:e},e.idMeal)))}),q>1&&i.jsx(U,{currentPage:p,totalPages:q,onPageChange:g})]})})}}),re=k({getParentRoute:()=>Z,path:"/recipe/$recipeId",component:()=>{var e;const{recipeId:r}=A({from:"/recipe/$recipeId"}),{addRecipe:s,removeRecipe:a,selectedRecipes:l}=J(),o=t(),{data:h}=f({queryKey:["recipe",r],queryFn:()=>G.getRecipeById(r)}),p=null==(e=null==h?void 0:h.meals)?void 0:e[0],g=l.some((e=>e.idMeal===(null==p?void 0:p.idMeal)));if(!p)return i.jsx(b,{maxW:"container.xl",py:8,children:i.jsx(y,{children:"Рецепт не знайдено"})});const m=Object.entries(p).filter((([e,r])=>e.startsWith("strIngredient")&&r)).map((([e,r])=>{const s=`strMeasure${e.slice(13)}`;return{ingredient:r,measure:p[s]}}));return i.jsx(b,{maxW:"container.xl",py:8,children:i.jsxs(d,{spacing:8,align:"stretch",children:[i.jsxs(C,{templateColumns:{base:"1fr",md:"1fr 1fr"},gap:8,children:[i.jsx(n,{children:i.jsx(c,{src:p.strMealThumb,alt:p.strMeal,borderRadius:"lg",width:"100%",objectFit:"cover"})}),i.jsxs(d,{align:"start",spacing:4,children:[i.jsx(y,{children:p.strMeal}),i.jsxs(u,{color:"gray.600",children:["Категорія: ",p.strCategory]}),i.jsxs(u,{color:"gray.600",children:["Кухня: ",p.strArea]}),i.jsxs(u,{color:"gray.600",children:["Інструкції: ",p.strInstructions]}),i.jsx(n,{as:"button",onClick:()=>{g?(a(p),o({title:"Рецепт видалено",description:`${p.strMeal} видалено з вибраних рецептів`,status:"info",duration:3e3,isClosable:!0})):(s(p),o({title:"Рецепт додано",description:`${p.strMeal} додано до вибраних рецептів`,status:"success",duration:3e3,isClosable:!0}))},px:4,py:2,bg:g?"red.500":"blue.500",color:"white",borderRadius:"md",_hover:{bg:g?"red.600":"blue.600"},children:g?"Видалити з вибраних":"Додати до вибраних"})]})]}),i.jsxs(n,{children:[i.jsx(y,{size:"md",mb:4,children:"Інгредієнти"}),i.jsx(S,{spacing:2,children:m.map(((e,r)=>i.jsxs($,{children:[e.measure," ",e.ingredient]},r)))})]})]})})}}),se=k({getParentRoute:()=>Z,path:"/selected",component:()=>{const{selectedRecipes:e,removeRecipe:r,getIngredients:s}=J(),a=t(),l=e=>{r(e),a({title:"Рецепт видалено",description:`${e.strMeal} видалено з вибраних рецептів`,status:"info",duration:3e3,isClosable:!0})};return 0===e.length?i.jsx(b,{maxW:"container.xl",py:8,children:i.jsxs(d,{spacing:4,children:[i.jsx(y,{children:"Мої вибрані рецепти"}),i.jsx(u,{children:"У вас поки немає вибраних рецептів"})]})}):i.jsx(b,{maxW:"container.xl",py:8,children:i.jsxs(d,{spacing:8,align:"stretch",children:[i.jsx(y,{children:"Мої вибрані рецепти"}),i.jsx(C,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:6,children:e.map((e=>i.jsx(Q,{recipe:e,onSelect:l},e.idMeal)))}),i.jsx(_,{}),i.jsxs(n,{children:[i.jsx(y,{size:"md",mb:4,children:"Список інгредієнтів:"}),i.jsx(S,{spacing:2,children:s().map((e=>i.jsxs($,{children:["• ",e.name," - ",e.measure]},e.name)))})]}),i.jsx(_,{}),i.jsxs(n,{children:[i.jsx(y,{size:"md",mb:4,children:"Інструкції по приготуванню:"}),e.map((e=>i.jsxs(n,{mb:6,children:[i.jsx(y,{size:"sm",mb:2,children:e.strMeal}),i.jsx(u,{whiteSpace:"pre-line",children:e.strInstructions})]},e.idMeal)))]})]})})}}),te=B({routeTree:Z.addChildren([ee,re,se])});function ae(){return i.jsx(D,{client:V,children:i.jsx(E,{children:i.jsx(F,{router:te})})})}N(document.getElementById("root")).render(i.jsx(j.StrictMode,{children:i.jsx(ae,{})}));
//# sourceMappingURL=index-XOWKqeUd.js.map
